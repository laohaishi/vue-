(function(t){function e(e){for(var a,o,i=e[0],l=e[1],c=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,i=1;i<n.length;i++){var l=n[i];0!==s[l]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},s={app:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0395":function(t,e,n){"use strict";var a=n("49df"),s=n.n(a);s.a},"11b5":function(t,e,n){"use strict";var a=n("e991"),s=n.n(a);s.a},"20d1":function(t,e,n){},2395:function(t,e,n){},2498:function(t,e,n){},"49df":function(t,e,n){},5170:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("ac1f"),n("5319"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],o={},i=o,l=(n("7c55"),n("2877")),c=Object(l["a"])(i,s,r,!1,null,null,null),u=c.exports,d=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[t._m(0),t._m(1),n("div",{staticClass:"buju"},[n("Input",{attrs:{type:"text",placeholder:"请输入用户名/手机号",rule:/^\d{5,11}$/,err_message:"请输入合法的手机号"},on:{valChange:t.setUsername}}),n("Input",{attrs:{type:"password",placeholder:"请输入密码",rule:/^\d{3,6}$/,err_message:"请输入合法的密码"},on:{valChange:t.setPassword}}),n("Btn",{attrs:{btnText:"登录"},on:{handleClick:t.login}})],1)])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"closeBtn"},[n("span",{staticClass:"iconfont iconicon-test"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("span",{staticClass:"iconfont iconnew"})])}],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"inputWrapper"}},["checkbox"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],class:{success:t.isValid,error:!t.isValid},attrs:{placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.inputVal)?t._i(t.inputVal,null)>-1:t.inputVal},on:{change:[function(e){var n=t.inputVal,a=e.target,s=!!a.checked;if(Array.isArray(n)){var r=null,o=t._i(n,r);a.checked?o<0&&(t.inputVal=n.concat([r])):o>-1&&(t.inputVal=n.slice(0,o).concat(n.slice(o+1)))}else t.inputVal=s},t.checkValid]}}):"radio"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],class:{success:t.isValid,error:!t.isValid},attrs:{placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.inputVal,null)},on:{change:[function(e){t.inputVal=null},t.checkValid]}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],class:{success:t.isValid,error:!t.isValid},attrs:{placeholder:t.placeholder,type:t.type},domProps:{value:t.inputVal},on:{change:t.checkValid,input:function(e){e.target.composing||(t.inputVal=e.target.value)}}})])},m=[],v={data:function(){return{inputVal:"",isValid:!0}},props:["type","placeholder","rule","err_message"],watch:{inputVal:function(t){this.rule.test(t)?(this.isValid=!0,console.log("合法")):(this.isValid=!1,console.log(this.err_message)),this.$emit("valChange",t)}},methods:{checkValid:function(){this.isValid||this.$toast.fail(this.err_message)}}},g=v,b=(n("68b3"),Object(l["a"])(g,f,m,!1,null,"7ffaec70",null)),_=b.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn",on:{click:t.handleClick}},[t._v(t._s(t.btnText))])},$=[],C={props:["btnText"],methods:{handleClick:function(){console.log("我是子组件，我被点击了"),this.$emit("handleClick")}}},k=C,y=(n("6ce5"),Object(l["a"])(k,x,$,!1,null,"b0655014",null)),w=y.exports,V={data:function(){return{username:"",password:""}},components:{Btn:w,Input:_},methods:{login:function(){var t=this;this.username&&this.password?(console.log(this.username,this.password),this.$axios({method:"post",url:"http://127.0.0.1:3000/login",data:{username:this.username,password:this.password}}).then((function(e){"登录成功"==e.data.message?(t.$toast.success("登录成功"),console.log(e.data.data),localStorage.setItem("token",e.data.data.token),localStorage.setItem("userId",e.data.data.user.id),t.$router.push("/personal")):t.$toast.fail(e.data.message)}))):this.$toast.fail("请填写完整信息")},setUsername:function(t){this.username=t},setPassword:function(t){this.password=t}}},j=V,T=(n("0395"),Object(l["a"])(j,p,h,!1,null,"36c51e92",null)),O=T.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._m(1),n("div",{staticClass:"buju"},[n("Input",{attrs:{type:"text",placeholder:"请输入用户名/手机号",rule:/^\d{5,11}$/,err_message:"请输入合法的手机号"},on:{valChange:t.setUsername}}),n("Input",{attrs:{type:"password",placeholder:"请输入密码",rule:/^\d{3,6}$/,err_message:"请输入合法的密码"},on:{valChange:t.setPassword}}),n("Input",{attrs:{type:"text",placeholder:"昵称",rule:/^\w{3,5}$/,err_message:"请输入正确的昵称"},on:{valChange:t.setNickname}}),n("Btn",{attrs:{btnText:"注册"},on:{handleClick:t.register}})],1)])},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"closeBtn"},[n("span",{staticClass:"iconfont iconicon-test"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("span",{staticClass:"iconfont iconnew"})])}],I={data:function(){return{username:"",password:"",nickname:""}},components:{Btn:w,Input:_},methods:{setUsername:function(t){this.username=t},setPassword:function(t){this.password=t},setNickname:function(t){this.nickname=t},register:function(){var t=this;this.username&&this.password&&this.nickname?this.$axios({method:"post",url:"http://127.0.0.1:3000/register",data:{username:this.username,password:this.password,nickname:this.nickname}}).then((function(e){"注册成功"==e.data.message?(t.$toast.success("注册成功"),t.$router.replace("/login")):t.$toast.fail(e.data.message)})):this.$toast.fail("请输入完整信息")}}},S=I,B=(n("c94b"),Object(l["a"])(S,P,E,!1,null,"53c046c2",null)),A=B.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pro"},[n("div",{staticClass:"profile",on:{click:function(e){return t.$router.push("/edit")}}},[t.user.head_img?n("img",{staticClass:"avatar",attrs:{src:"http://127.0.0.1:3000"+t.user.head_img,alt:""}}):n("img",{staticClass:"avatar",attrs:{src:"https://dss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1927727249,2644777397&fm=26&gp=0.jpg",alt:""}}),n("div",{staticClass:"info"},[n("div",{staticClass:"name"},[1==t.user.gender?n("span",{staticClass:"iconfont iconxingbienan"}):t._e(),0==t.user.gender?n("span",{staticClass:"iconfont iconxingbienv"}):t._e(),t._v(" "+t._s(t.user.nickname)+" ")]),n("div",{staticClass:"date"},[t._v("2020-08-22")])]),n("span",{staticClass:"iconfont iconjiantou1",attrs:{id:"icon"}})]),n("Personal",{attrs:{labelText:"我的关注",descText:"关注我的用户"},on:{handleClick:function(e){return t.$router.push("/yemian1")}}}),n("Personal",{attrs:{labelText:"我的跟帖",descText:"跟帖/回复"},on:{handleClick:function(e){return t.$router.push("/yemian2")}}}),n("Personal",{attrs:{labelText:"我的收藏",descText:"文章/视频"},on:{handleClick:function(e){return t.$router.push("/yemian3")}}}),n("Personal",{attrs:{labelText:"设置"},on:{handleClick:function(e){return t.$router.push("/edit")}}}),n("Personal",{attrs:{labelText:"退出登录"},on:{handleClick:t.logOut}})],1)},N=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"barWrapper",on:{click:t.handleClick}},[n("div",{staticClass:"label"},[t._v(t._s(t.labelText))]),n("div",{staticClass:"desc"},[t._v(t._s(t.descText))]),n("span",{staticClass:"iconfont iconjiantou1"})])},H=[],M={props:["labelText","descText"],methods:{handleClick:function(){this.$emit("handleClick")}}},W=M,G=(n("bdb3"),Object(l["a"])(W,F,H,!1,null,"7ce4c152",null)),J=G.exports,K={data:function(){return{user:{}}},components:{Personal:J},methods:{logOut:function(){localStorage.clear(),this.$router.replace("/")}},created:function(){var t=this;this.$axios({url:"http://127.0.0.1:3000/user/"+localStorage.getItem("userId"),headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){if("用户信息验证失败"==e.data.message)return localStorage.clear(),void t.$router.replace("/login");console.log(e.data),t.user=e.data.data,console.log(t.user)}))}},L=K,Q=(n("dc1b"),Object(l["a"])(L,U,N,!1,null,"e7559266",null)),R=Q.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"index"}},[n("div",{staticClass:"buju"},[n("router-link",{attrs:{to:"/login"}},[t._v("登录")]),n("br"),n("router-link",{attrs:{to:"/register"}},[t._v("注册")]),n("br"),n("router-link",{attrs:{to:"/personal"}},[t._v("个人中心")])],1),n("br"),n("router-view"),n("button",[t._v("确认")])],1)},q=[],z={mounted:function(){var t=this;setTimeout((function(){t.$toast("哈哈哈")}),1e3),this.$axios({method:"get",url:"http://127.0.0.1:3000/post",params:{category:1}}).then((function(t){console.log("请求成功"),console.log(t.data)})).catch((function(t){console.log("请求失败"),console.log(t)})),this.$axios({method:"post",url:"http://127.0.0.1:3000/login",data:{username:"10086",password:"123"}}).then((function(t){console.log(t.data)}))}},D=z,X=(n("11b5"),Object(l["a"])(D,Y,q,!1,null,"63b122f4",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Title",{attrs:{title:"编辑资料"}}),t.user.head_img?n("img",{staticClass:"avatar",attrs:{src:"axios.defaults.baseURL"+t.user.head_img,alt:""}}):n("img",{staticClass:"avatar",attrs:{src:"https://dss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1927727249,2644777397&fm=26&gp=0.jpg",alt:""}}),n("PersonalBar",{attrs:{labelText:"昵称",descText:"火星网友"},on:{handleClick:function(e){return t.$router.push("/yemian1")}}}),n("PersonalBar",{attrs:{labelText:"密码",descText:"******"},on:{handleClick:function(e){return t.$router.push("/yemian1")}}}),n("PersonalBar",{attrs:{labelText:"性别",descText:"男"},on:{handleClick:function(e){return t.$router.push("/yemian1")}}})],1)},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"edit"}},[n("span",{staticClass:"iconfont iconjiantou2"}),n("span",[t._v(t._s(t.title))])])},at=[],st={props:["title"]},rt=st,ot=(n("b343"),Object(l["a"])(rt,nt,at,!1,null,"31e0689d",null)),it=ot.exports,lt={data:function(){return{user:{}}},components:{Title:it,PersonalBar:J}},ct=lt,ut=(n("57a6"),Object(l["a"])(ct,tt,et,!1,null,"4dedaf9c",null)),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"yemian1"}},[n("p",[t._v("我的关注")]),n("p",[n("router-link",{attrs:{to:"/personal"}},[t._v("返回")])],1)])},ht=[],ft={},mt=ft,vt=(n("7f84"),Object(l["a"])(mt,pt,ht,!1,null,null,null)),gt=vt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("我的跟帖")])},_t=[],xt={},$t=xt,Ct=Object(l["a"])($t,bt,_t,!1,null,null,null),kt=Ct.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("我的收藏")])},wt=[],Vt={},jt=Vt,Tt=Object(l["a"])(jt,yt,wt,!1,null,null,null),Ot=Tt.exports;a["a"].use(d["a"]);var Pt=new d["a"]({routes:[{name:"login",path:"/login",component:O},{name:"register",path:"/register",component:A},{name:"personal",path:"/personal",component:R,meta:{needAuth:!0}},{path:"/",component:Z},{path:"/yemian1",component:gt},{path:"/yemian2",component:kt},{path:"/yemian3",component:Ot},{path:"/edit",component:dt,meta:{needAuth:!0}}]}),Et=Pt,It=n("b970"),St=(n("157a"),n("bc3a")),Bt=n.n(St),At=n("d399");Et.beforeEach((function(t,e,n){console.log("to",t,"from",e),t.meta.needAuth?localStorage.getItem("token")?n():Et.push("/login"):n()})),a["a"].use(It["a"]),a["a"].prototype.$axios=Bt.a,Bt.a.defaults.baseURL="http://127.0.0.1:3000",Bt.a.interceptors.response.use((function(t){var e=/^4\d{2}$/;if(e.test(t.data.statusCode)&&At["a"].fail(t.data.message||"系统错误"),"用户信息验证错误"!=t.data.message)return t;Et.replace("/login")})),a["a"].config.productionTip=!1,new a["a"]({router:Et,render:function(t){return t(u)}}).$mount("#app")},"57a6":function(t,e,n){"use strict";var a=n("c9d6"),s=n.n(a);s.a},"68b3":function(t,e,n){"use strict";var a=n("87d5"),s=n.n(a);s.a},"6ce5":function(t,e,n){"use strict";var a=n("bf6b"),s=n.n(a);s.a},"7c55":function(t,e,n){"use strict";var a=n("2395"),s=n.n(a);s.a},"7f84":function(t,e,n){"use strict";var a=n("8870"),s=n.n(a);s.a},"87d5":function(t,e,n){},8870:function(t,e,n){},"9dfe":function(t,e,n){},b343:function(t,e,n){"use strict";var a=n("5170"),s=n.n(a);s.a},bdb3:function(t,e,n){"use strict";var a=n("20d1"),s=n.n(a);s.a},bf6b:function(t,e,n){},c94b:function(t,e,n){"use strict";var a=n("2498"),s=n.n(a);s.a},c9d6:function(t,e,n){},dc1b:function(t,e,n){"use strict";var a=n("9dfe"),s=n.n(a);s.a},e991:function(t,e,n){}});
//# sourceMappingURL=app.1acbb77b.js.map